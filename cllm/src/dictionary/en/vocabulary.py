from typing import Optional

from ...utils.vocabulary import BaseVocabulary


class ENVocabulary(BaseVocabulary):
    """CLLM token vocabulary with synonyms and patterns"""

    @property
    def REQ_TOKENS(self) -> dict[str, list[str]]:
        return {
            "ANALYZE": [
                "analyze",
                "review",
                "examine",
                "evaluate",
                "assess",
                "inspect",
                "check out",
                "audit",
                "investigate",
            ],
            "MATCH": [
                "match",
                "compare",
                "align",
                "map",
                "correlate",
                "match against",
                "compare to",
                "check against",
            ],
            "EXTRACT": [
                "extract",
                "pull out",
                "identify",
                "find",
                "locate",
                "get",
                "retrieve",
                "return",
                "include",
                "select",
                "pick out",
            ],
            "SELECT": ["select", "choose", "pick", "filter", "identify matching"],
            "GENERATE": [
                "generate",
                "create",
                "write",
                "draft",
                "compose",
                "produce",
                "build",
                "develop",
                "design",
                "craft",
                "author",
                "make up",
                "name",
                "suggest",
                "formulate",
                "form",
                "construct",
                "propose",
                "transcribe",
            ],
            "SUMMARIZE": [
                "summarize",
                "condense",
                "brief",
                "synopsis",
                "sum up",
                "digest",
                "recap",
            ],
            "TRANSFORM": [
                "convert",
                "transform",
                "change",
                "rewrite",
                "translate",
                "complete",
                "turn into",
                "modify",
                "adapt",
                "adjust",
                "rephrase",
                "rework",
                "rearrange",
                "edit",
                "add",
                "paraphrase",
                "fill",
                "remove",
                "replace",
                "reverse",
            ],
            "EXPLAIN": [
                "explain",
                "describe",
                "clarify",
                "elaborate",
                "tell me about",
                "detail",
                "expound",
                "illustrate",
                "express",
                "tell",
                "discuss",
                "define",
            ],
            "COMPARE": [
                "compare",
                "contrast",
                "versus",
                "vs",
                "difference between",
                "differentiate",
                "distinguish",
            ],
            "CLASSIFY": [
                "classify",
                "categorize",
                "sort",
                "group",
                "label",
                "organize",
                "arrange",
                "order by",
                "segment",
            ],
            "DEBUG": [
                "debug",
                "troubleshoot",
                "diagnose",
                "fix bug",
                "investigate bug",
                "find bug",
                "track down",
                "identify issue",
            ],
            "OPTIMIZE": [
                "optimize",
                "improve",
                "enhance",
                "refactor",
                "speed up",
                "streamline",
                "maximize",
                "minimize",
                "reduce",
                "increase",
            ],
            "VALIDATE": [
                "validate",
                "verify",
                "check",
                "confirm",
                "test",
                "ensure",
                "certify",
                "authenticate",
            ],
            "SEARCH": [
                "search",
                "query",
                "lookup",
                "find",
                "look for",
                "seek",
                "hunt for",
                "discover",
            ],
            "RANK": ["prioritize", "order", "sort by", "rate", "score"],
            "PREDICT": [
                "predict",
                "forecast",
                "estimate",
                "project",
                "anticipate",
                "foresee",
                "extrapolate",
            ],
            "FORMAT": ["format", "structure", "organize", "layout", "arrange"],
            "DETECT": [
                "detect",
                "spot",
                "discover",
                "uncover",
                "identify",
                "notice",
                "recognize",
            ],
            "CALCULATE": [
                "calculate",
                "compute",
                "figure out",
                "determine mathematically",
                "quantify",
                "measure",
                "count",
                "tally",
            ],
            "AGGREGATE": [
                "aggregate",
                "group",
                "combine",
                "consolidate",
                "roll up",
                "merge",
                "compile",
                "collect",
            ],
            "DETERMINE": [
                "determine",
                "decide",
                "assess",
                "evaluate",
                "figure out",
                "conclude",
                "establish",
                "choose",
            ],
            "ROUTE": [
                "route",
                "assign",
                "direct",
                "forward",
                "send to",
                "delegate",
                "allocate",
            ],
            "EXECUTE": ["use", "apply", "implement", "run", "perform", "employ", "utilize"],
            "LIST": ["list", "enumerate", "itemize", "outline"],
        }

    @property
    def NOISE_VERBS(self) -> set[str]:
       return {
        "be",
        "have",
        "do",
        "can",
        "could",
        "should",
        "would",
        "may",
        "might",
        "must",
        "will",
        "shall",
        "go",
        "come",
        "take",
        "get",
        "make",
        "work",
        "live",
        "stay",
        "follow",
        "base",
        "relate",
        "need",
        "want",
        "start",
        "begin",
        "become",
        "seem",
        "appear",
        "remain",
        "show",
        "see",
        "know",
        "think",
        "feel",
        "say",
        "call",
    }

    @property
    def CONTEXT_FILTERS(self) -> dict[str, list[str]]:
        return {
            "give": ["given", "give me", "giving"],
            "follow": ["following", "as follows"],
            "base": ["based on", "base it on"],
            "use": ["useful", "used to", "uses"],
        }

    @property
    def TARGET_TOKENS(self) -> dict[str, list[str]]:
        return {
            "CODE": ["code", "script", "program", "function", "method", "class", "snippet"],
            "DATA": ["data", "dataset", "database", "spreadsheet", "table", "csv"],
            "QUERY": ["query", "sql", "sql query", "database query"],
            "ENDPOINT": ["endpoint", "api", "api endpoint", "rest endpoint"],
            "COMPONENT": ["component", "module", "package", "library"],
            "SYSTEM": ["system", "application", "app", "software", "platform"],
            "TEST": ["test", "unit test", "test case", "test suite"],
            "LOG": ["log", "logs", "log file", "error log", "system log"],
            "RECORD": ["record", "entry", "row", "item"],
            "STRATEGY": ["strategy", "approach", "plan", "methodology"],
            "NBA_CATALOG": [
                "nba",
                "nbas",
                "next best action",
                "next best actions",
                "predefined actions",
                "possible actions",
                "available actions",
            ],
            "DOCUMENT": ["document", "doc", "file", "report", "paper"],
            "EMAIL": ["email", "message", "correspondence"],
            "REPORT": ["report", "analysis", "findings", "summary report"],
            "TICKET": ["ticket", "support ticket", "issue", "case"],
            "TRANSCRIPT": ["transcript", "conversation", "dialogue", "chat log"],
            "FEEDBACK": ["feedback", "comment", "review", "critique"],
            "COMMENT": ["comment", "remark", "note", "observation"],
            "CUSTOMER_INTENT": [
                "customer intent",
                "customer's intent",
                "customer need",
                "customer request",
                "customer goal",
                "customer problem",
            ],
            "COMPLAINT": ["complaint", "issue", "problem", "grievance"],
            "REQUEST": ["request", "customer request", "service request"],
            "INQUIRY": ["inquiry", "question", "query"],
            "INTERACTION": ["interaction", "support interaction", "customer interaction"],
            "CALL": ["call", "phone call", "support call", "customer call"],
            "DESCRIPTION": ["description", "product description"],
            "SUMMARY": ["summary", "executive summary", "brief summary"],
            "PLAN": ["plan", "business plan", "project plan"],
            "POST": ["post", "linkedin post", "social media post", "blog post"],
            "PRESS_RELEASE": ["press release", "release", "announcement"],
            "INTRODUCTION": ["introduction", "intro"],
            "CAPTION": ["caption", "captions", "social media caption"],
            "QUESTIONS": ["questions", "interview questions", "quiz questions", "faq"],
            "RESPONSE": ["response", "reply", "answer", "template response"],
            "LOGS": ["logs", "log files", "traffic logs", "system logs", "access logs"],
            "CORRELATION": ["correlation", "correlations", "relationship", "relationships"],
            "TRADEOFF": ["trade-off", "tradeoffs", "tradeoff", "trade-offs"],
            "PARADIGM": ["paradigm", "paradigms", "methodology", "approach"],
            "PAIN_POINTS": ["pain points", "pain point", "issues", "problems"],
            "PATTERN": ["pattern", "patterns", "trend", "trends"],
            "CHURN": ["churn", "customer churn", "attrition"],
            "FEATURES": ["features", "feature", "functionality", "capabilities"],
            "METRICS": ["revenue", "metrics", "statistics", "numbers", "data points"],
            "REGIONS": ["regions", "areas", "locations", "territories"],
            "ITEMS": ["items", "things", "elements", "list", "options", "choices"],
            "CONCEPT": ["concept", "idea", "notion", "principle", "theory"],
            "PROCEDURE": ["procedure", "process", "steps", "method", "technique"],
            "FACT": ["fact", "facts", "information", "details", "truth"],
            "ANSWER": ["answer", "solution", "response"],
        }

    @property
    def EXTRACT_FIELDS(self) -> tuple[str, ...]:
        return (
            "ISSUE",
            "SENTIMENT",
            "ACTIONS",
            "NEXT_STEPS",
            "URGENCY",
            "PRIORITY",
            "NAMES",
            "DATES",
            "AMOUNTS",
            "EMAILS",
            "PHONES",
            "ADDRESSES",
            "BUGS",
            "SECURITY",
            "PERFORMANCE",
            "STYLE",
            "ERRORS",
            "WARNINGS",
            "KEYWORDS",
            "TOPICS",
            "ENTITIES",
            "FACTS",
            "DECISIONS",
            "DEADLINES",
            "REQUIREMENTS",
            "FEATURES",
            "PROBLEMS",
            "SOLUTIONS",
            "RISKS",
            "METRICS",
            "KPI",
            "SCORES",
            "RATINGS",
            "FEEDBACK",
            "COMPLAINTS",
            "OWNERS",
            "ASSIGNEES",
            "STAKEHOLDERS",
            "PARTICIPANTS",
            "TIMESTAMPS",
            "DURATIONS",
            "FREQUENCIES",
            "QUANTITIES",
            "CATEGORIES",
            "TAGS",
            "LABELS",
            "STATUS",
            "TYPE",
            "CUSTOMER_INTENT",
            "RELEVANCE_SCORE",
            "NBA_ID",
            "MATCH_CONFIDENCE",
            "SEMANTIC_SIMILARITY",
            "THRESHOLD",
        )

    @property
    def OUTPUT_FORMATS(self) -> dict[str, list[str]]:
        return {
            "JSON": ["json", "json format"],
            "MARKDOWN": ["markdown", "md"],
            "TABLE": ["table", "tabular"],
            "LIST": ["list", "bullet points", "bullets"],
            "PLAIN": ["plain text", "text only"],
            "CSV": ["csv", "comma-separated"],
        }

    @property
    def IMPERATIVE_PATTERNS(self) -> list[tuple[list[str], str, str]]:
        return [
            (["list", "enumerate", "itemize"], "LIST", "ITEMS"),
            (["name", "identify"], "GENERATE", "ITEMS"),
            (["give", "provide", "suggest"], "GENERATE", "ITEMS"),
            (
                ["tell", "explain", "describe", "clarify", "expand", "illustrate"],
                "EXPLAIN",
                "CONCEPT",
            ),
        ]

    @property
    def QUESTION_WORDS(self) -> list[str]:
        return ["what", "who", "where", "when", "why", "how", "which"]
