{
    "prompt": "\nYou are a Customer Experience (CX) intelligence agent designed to assist contact center operations.\nYour primary role is to analyze a customer\u2013agent interaction transcript and determine which predefined actions (Next Best Actions, or NBAs) are relevant to the conversation.\nYou will be provided with:\n1. A list of dictionaries, each representing a possible NBA. Each dictionary includes fields such as:\n   - id (unique identifier)\n   - title or name\n   - description\n   - optional fields like prerequisites, when_to_use, or category\n2. A transcript, which contains the customer\u2019s statements and/or the ongoing chat or call summary.\nYour task:\n- Carefully read the transcript to understand the customer's intent, problem, or request.\n- Compare this context to each NBA\u2019s **title** and **description** (and other text fields if available).\n- Select the NBAs that are most relevant to the customer\u2019s issue, question, or goal.\n- You may select multiple NBAs if more than one clearly applies.\n- Ignore NBAs that are unrelated or only partially relevant.\nOutput format:\nReturn ONLY a JSON list of matching NBA IDs, in descending order of relevance (most relevant first). Example:\n[\"nba_002\", \"nba_005\", \"nba_014\"]\nGuidelines:\n- Focus on semantic meaning, not keyword overlap.\n- Consider synonyms and paraphrases (e.g., \u201crefund\u201d \u2248 \u201cbilling dispute\u201d).\n- If no NBAs match confidently, return an empty list [].\n- Do not generate explanations or commentary \u2014 only the JSON list.\nExample input:\n{\n  \"transcript\": \"The customer says they were charged twice for their phone bill and want a refund.\",\n  \"nbas\": [\n    {\"id\": \"nba_001\", \"title\": \"Technical Support\", \"description\": \"Assist customers with product malfunctions or connectivity issues.\"},\n    {\"id\": \"nba_002\", \"title\": \"Billing Issue Resolution\", \"description\": \"Handle billing problems including disputed charges, incorrect amounts, and payment questions.\"},\n    {\"id\": \"nba_003\", \"title\": \"Upgrade Offer\", \"description\": \"Present eligible customers with plan upgrade options.\"}\n  ]\n}\nExpected output:\n[\"nba_002\"]",
    "compressed": "[REQ:GENERATE:CREATIVE] [REQ:ANALYZE] [REQ:DETERMINE] [REQ:COMPARE] [REQ:EXECUTE] [TARGET:INTERACTION:CONTEXT=CUSTOMER:DOMAIN=SUPPORT] [TARGET:TRANSCRIPT:CONTEXT=CUSTOMER:DOMAIN=SUPPORT:TYPE=CALL] [EXTRACT:ISSUE+PROBLEM+AMOUNTS+CATEGORY+ACTIONS] [CTX:LENGTH=BRIEF] [OUT:JSON]",
    "compression_ratio": 86.7,
    "has_req": true,
    "has_target": true,
    "status": "PASS",
    "category": "CX",
    "metadata": {
        "original_length": 2063,
        "compressed_length": 275,
        "num_intents": 6,
        "num_targets": 2,
        "input_tokens": 297,
        "output_tokens": 10,
        "verbs": [
            "design",
            "assist",
            "analyze",
            "determine",
            "predefine",
            "provide",
            "represent",
            "include",
            "contain",
            "call",
            "read",
            "understand",
            "compare",
            "select",
            "select",
            "apply",
            "return",
            "match",
            "descend",
            "consider",
            "refund",
            "match",
            "return",
            "generate",
            "say",
            "charge",
            "want",
            "assist",
            "handle",
            "include",
            "dispute",
            "expect"
        ],
        "noun_chunks": [
            "\nYou",
            "a Customer Experience (CX) intelligence agent",
            "contact center operations",
            "Your primary role",
            "a customer\u2013agent interaction transcript",
            "which",
            "actions",
            "Next Best Actions",
            "NBAs",
            "the conversation",
            "You",
            "A list",
            "dictionaries",
            "each",
            "a possible NBA",
            "Each dictionary",
            "fields",
            "i",
            "d (unique identifier)\n   - title or name\n   - description\n   - optional fields",
            "prerequisites",
            "when_to_use",
            "category",
            "A transcript",
            "which",
            "the customer\u2019s statements",
            "the ongoing chat or call summary",
            "the transcript",
            "the customer's intent",
            "problem",
            "request",
            "this context",
            "each NBA",
            "*",
            "*",
            "*",
            "*",
            "description",
            "other text fields",
            "the NBAs",
            "that",
            "the customer\u2019s issue",
            "question",
            "goal",
            "You",
            "multiple NBAs",
            "- Ignore",
            "NBAs",
            "that",
            "Output format",
            "ONLY a JSON list",
            "NBA IDs",
            "order",
            "relevance",
            "Example",
            "nba_014",
            "- Focus",
            "semantic meaning",
            "not keyword overlap",
            "synonyms",
            "paraphrases",
            "\u2248 \u201cbilling dispute",
            "no NBAs",
            "an empty list",
            "explanations",
            "commentary",
            "only the JSON list",
            "Example input",
            "{\n  \"transcript",
            "The customer",
            "they",
            "their phone bill",
            "a refund",
            "\",\n  \"nbas",
            "[\n    {\"id",
            "\"nba_001\", \"title",
            "Technical Support",
            ", \"description",
            "customers",
            "product malfunctions",
            "connectivity issues",
            "\"nba_002",
            ", \"title",
            "\"Billing Issue Resolution",
            ", \"description",
            "billing problems",
            "disputed charges",
            "incorrect amounts",
            "payment questions",
            "i",
            "d",
            ", \"title",
            "Upgrade Offer",
            ", \"description",
            "Present eligible customers",
            "plan upgrade options",
            "\"}\n  ]\n}\nExpected output",
            "[\"nba_002"
        ],
        "language": "en",
        "has_numbers": true,
        "has_urls": false,
        "has_code_indicators": true,
        "unmatched_verbs": [
            "assist",
            "predefine",
            "provide",
            "represent",
            "contain",
            "call",
            "read",
            "understand",
            "match",
            "descend",
            "consider",
            "refund",
            "match",
            "say",
            "charge",
            "want",
            "assist",
            "handle",
            "dispute",
            "expect"
        ]
    }
}